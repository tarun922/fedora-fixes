<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fedora Fixes</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0b0b12; --panel:#11111b; --txt:#eaeaf0; --accent:#6cf2c2; --accent2:#3cc1ff;
}
.light{
  --bg:#f5f7fb; --panel:#ffffff; --txt:#111; --accent:#0ea5a4; --accent2:#2563eb;
}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,system-ui;background:var(--bg);color:var(--txt);display:flex}

/* SIDEBAR */
.sidebar{
  width:300px;background:var(--panel);border-right:1px solid #2a2a40;
  padding:1rem;height:100vh;overflow:auto;transition:.3s
}
.sidebar.hidden{transform:translateX(-100%)}
.topbar{display:flex;gap:.5rem;align-items:center}
.btn{
  border:none;border-radius:999px;padding:.35rem .7rem;font-size:.75rem;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#000;font-weight:700;cursor:pointer
}
.btn.alt{background:#2a2a40;color:var(--txt)}
.search{width:100%;margin:.6rem 0;padding:.45rem;border-radius:6px;border:none;background:#1c1c2b;color:var(--txt)}
.file{background:rgba(255,255,255,.05);padding:.55rem;border-radius:8px;margin-bottom:.45rem}
.name{color:var(--accent);font-weight:700;font-size:.85rem}
.desc{font-size:.72rem;opacity:.8;margin:.2rem 0}
.row{display:flex;gap:.3rem;flex-wrap:wrap}

/* MAIN */
.main{flex:1;padding:2rem}
h1{color:var(--accent);font-size:3rem;margin:.2rem 0}
.term{
  background:#000;border-radius:10px;padding:1rem;margin:1rem 0;
  font-family:monospace;color:#39ff14;min-height:90px
}
.filters button{margin:.2rem}

/* MOBILE */
@media(max-width:900px){
  .sidebar{position:fixed;z-index:10}
  .mobileTop{display:flex;gap:.5rem;margin-bottom:.5rem}
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar hidden" id="sidebar">
  <div class="topbar">
    <button class="btn alt" onclick="toggleSidebar()">â˜°</button>
    <button class="btn alt" onclick="toggleTheme()">ðŸŒ—</button>
  </div>
  <input class="search" placeholder="Search scripts..." oninput="filter(this.value)">
  <div class="filters">
    <button class="btn alt" onclick="setCat('all')">All</button>
    <button class="btn alt" onclick="setCat('audio')">Audio</button>
    <button class="btn alt" onclick="setCat('network')">Network</button>
    <button class="btn alt" onclick="setCat('system')">System</button>
    <button class="btn alt" onclick="setCat('drivers')">Drivers</button>
  </div>
  <div id="list"></div>
</div>

<!-- MAIN -->
<div class="main">
  <div class="mobileTop">
    <button class="btn alt" onclick="toggleSidebar()">â˜° Files</button>
    <button class="btn alt" onclick="toggleTheme()">ðŸŒ— Theme</button>
  </div>

  <h1>Fedora Fixes</h1>
  <p>Instant downloads â€¢ Terminal vibe â€¢ Auto-scan repo â€¢ Mobile ready</p>

  <div class="term" id="terminal"></div>

  <h3>Usage</h3>
  <pre>chmod +x script.sh
./script.sh</pre>

  <footer style="opacity:.6;margin-top:2rem">
    tarun922/fedora-fixes
  </footer>
</div>

<script>
/* ===== CONFIG ===== */
const OWNER="tarun922";
const REPO="fedora-fixes"; // used for auto-scan

/* ===== LOCAL FALLBACK (used if API blocked) ===== */
let scripts=[
 {n:"main.sh",c:"system",d:"Main interactive console"},
 {n:"Audio-Fix.sh",c:"audio",d:"Fix PipeWire & sound"},
 {n:"Battery-Fix.sh",c:"system",d:"Battery & power tweaks"},
 {n:"Display-Fix.sh",c:"system",d:"Screen & resolution fixes"},
 {n:"Flatpak-Fix.sh",c:"system",d:"Flatpak repair"},
 {n:"Input-Fix.sh",c:"system",d:"Keyboard/mouse lag"},
 {n:"Nvidia-Fix.sh",c:"drivers",d:"NVIDIA drivers"},
 {n:"Share-Fix.sh",c:"system",d:"Screen sharing"},
 {n:"System-Refresh.sh",c:"system",d:"System repair"},
 {n:"Update-Fix.sh",c:"system",d:"DNF update fix"},
 {n:"fix-bluetooth.sh",c:"network",d:"Bluetooth fix"},
 {n:"fix-wifi.sh",c:"network",d:"Wi-Fi fix"}
];

let currentCat="all";

/* ===== AUTO-SCAN REPO ===== */
fetch(`https://api.github.com/repos/${OWNER}/${REPO}/contents`)
 .then(r=>r.json()).then(data=>{
   const sh=data.filter(f=>f.name.endsWith(".sh")).map(f=>({n:f.name,c:"system",d:"Auto-detected script"}));
   if(sh.length) scripts=sh;
   render();
 }).catch(render);

/* ===== RENDER ===== */
function render(){
 const box=document.getElementById("list"); box.innerHTML="";
 scripts.filter(s=>currentCat=="all"||s.c==currentCat).forEach(s=>{
  box.innerHTML+=`
   <div class="file">
    <div class="name">${s.n}</div>
    <div class="desc">${s.d}</div>
    <div class="row">
      <a class="btn" href="${s.n}" download>Download</a>
      <button class="btn alt" onclick="copy('chmod +x ${s.n}')">chmod</button>
      <button class="btn alt" onclick="copy('./${s.n}')">run</button>
    </div>
   </div>`;
 });
}

/* ===== HELPERS ===== */
function copy(t){navigator.clipboard.writeText(t)}
function filter(q){
 q=q.toLowerCase();
 document.querySelectorAll(".file").forEach(f=>{
  f.style.display=f.innerText.toLowerCase().includes(q)?"":"none";
 });
}
function setCat(c){currentCat=c;render()}
function toggleSidebar(){document.getElementById("sidebar").classList.toggle("hidden")}
function toggleTheme(){document.body.classList.toggle("light")}

/* ===== TERMINAL ANIMATION ===== */
const lines=[
 "Initializing Fedora Fixesâ€¦",
 "Scanning system vulnerabilitiesâ€¦",
 "Loading emergency scriptsâ€¦",
 "Ready."
];
let i=0,j=0,term=document.getElementById("terminal");
(function type(){
 if(i<lines.length){
  if(j<lines[i].length){
   term.textContent+=lines[i][j++]; setTimeout(type,25);
  }else{term.textContent+="\n"; i++; j=0; setTimeout(type,300);}
 }
})();
render();
</script>

</body>
</html>
